<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.human.springboot.DAO_MJ">
	
	<select id="getNormalUsers" resultType="com.human.springboot.DTO_MJ_userDTO">
		select*from yonolja_user where user_signinType='normal'
	</select>
	
	<insert id="addUser">
		insert into yonolja_user values(
			user_seq.nextval, 
			#{param1},#{param2},#{param3},#{param4},#{param5},#{param6},#{param7},#{param8} 
		)
	</insert>
	
	<select id="getPlaceOptions" resultType="com.human.springboot.DTO_MJ_placeOptionDTO">
		select*from yonolja_place_option
	</select>
	<select id="getPlaceEnvironments" resultType="com.human.springboot.DTO_MJ_placeEnvironmentDTO">
		select*from yonolja_place_environment 
	</select>
	<select id="getPlaces" resultType="com.human.springboot.DTO_MJ_placeDTO">
		select*from yonolja_place ${param1}
	</select>
	
	<select id="getReviewRate" resultType="float">
		select nvl(avg(review_star),0)
		from yonolja_review review, yonolja_book book,yonolja_room room, yonolja_roomtype type, yonolja_place place
		where 
	    review.book_seq = book.book_seq and book.room_seq = room.room_seq and room.roomtype_seq = type.roomtype_seq and 
	    type.place_seq = place.place_seq and place.place_seq=#{param1}
	</select>
	
	
</mapper>

